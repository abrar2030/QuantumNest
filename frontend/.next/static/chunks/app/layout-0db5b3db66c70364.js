(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(3365);n(1521);var o=n(5903),a=n(4375);function i(e){let{children:t}=e;return(0,r.jsx)(o.K,{children:(0,r.jsx)(a.y,{children:t})})}function l(e){let{children:t}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsx)(i,{children:t})})})}n(6002)},4375:(e,t,n)=>{"use strict";n.d(t,{o:()=>y,y:()=>m});var r=n(3365),o=n(1521),a=n(4583),i=n(1733),l=n(8966);let s=["function balanceOf(address owner) view returns (uint256)"],c=["function getPortfolios(address owner) view returns (string[])"],u=["function executeTrade(address token, uint256 amount, bool isBuy) returns (bool)"],d=["function getYieldOptions() view returns (string[])"],h=["function transfer(address to, uint256 amount) returns (bool)"],w={TokenizedAsset:"0x7890123456789012345678901234567890123456",PortfolioManager:"0x8901234567890123456789012345678901234567",TradingPlatform:"0x9012345678901234567890123456789012345678",DeFiIntegration:"0x0123456789012345678901234567890123456789",TestToken:"0x1234567890123456789012345678901234567890"},f=new l.sf({supportedChainIds:[1,5,0xaa36a7]}),g=(0,o.createContext)(void 0);function m(e){let{children:t}=e,[n,l]=(0,o.useState)(null),[m,y]=(0,o.useState)(null),[v,p]=(0,o.useState)(null),[k,T]=(0,o.useState)(null),[x,C]=(0,o.useState)(!1),[E,P]=(0,o.useState)(null),[j,S]=(0,o.useState)({tokenizedAsset:null,portfolioManager:null,tradingPlatform:null,defiIntegration:null,testToken:null}),b=async()=>{if(!window.ethereum)return void P("No Ethereum wallet found. Please install MetaMask or another wallet.");C(!0),P(null);try{await f.activate();let e=new a.j(window.ethereum);p(e);let t=e.getSigner();T(t);let n=await e.listAccounts();l(n[0]);let{chainId:r}=await e.getNetwork();y(r),z(e),window.ethereum.on("accountsChanged",A),window.ethereum.on("chainChanged",O)}catch(e){console.error("Error connecting wallet:",e),P("Failed to connect wallet. Please try again.")}finally{C(!1)}},N=()=>{window.ethereum&&(window.ethereum.removeListener("accountsChanged",A),window.ethereum.removeListener("chainChanged",O)),l(null),y(null),p(null),T(null),S({tokenizedAsset:null,portfolioManager:null,tradingPlatform:null,defiIntegration:null,testToken:null})},A=e=>{0===e.length?N():l(e[0])},O=e=>{y(parseInt(e,16)),window.location.reload()},z=e=>{try{let t=e.getSigner(),n=new i.NZ(w.TokenizedAsset,s,t),r=new i.NZ(w.PortfolioManager,c,t),o=new i.NZ(w.TradingPlatform,u,t),a=new i.NZ(w.DeFiIntegration,d,t),l=new i.NZ(w.TestToken,h,t);S({tokenizedAsset:n,portfolioManager:r,tradingPlatform:o,defiIntegration:a,testToken:l})}catch(e){console.error("Error initializing contracts:",e),P("Failed to initialize blockchain contracts.")}};return(0,o.useEffect)(()=>((async()=>{window.ethereum&&window.ethereum.isConnected&&window.ethereum.selectedAddress&&b()})(),()=>{window.ethereum&&(window.ethereum.removeListener("accountsChanged",A),window.ethereum.removeListener("chainChanged",O))}),[]),(0,r.jsx)(g.Provider,{value:{account:n,chainId:m,provider:v,signer:k,isConnected:!!n,isConnecting:x,error:E,connectWallet:b,disconnectWallet:N,contracts:j},children:t})}function y(){let e=(0,o.useContext)(g);if(void 0===e)throw Error("useBlockchain must be used within a BlockchainProvider");return e}},5066:()=>{},5903:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,g:()=>l});var r=n(3365),o=n(1521);let a=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,o.useState)(!1),[l,s]=(0,o.useState)(null),c="http://localhost:8000",u=async e=>{if(i(!1),!e.ok){let t=(await e.json().catch(()=>({}))).detail||"Error: ".concat(e.status," ").concat(e.statusText);throw s(t),Error(t)}return e.json()},d=async e=>{i(!0),s(null);try{let t=await fetch("".concat(c).concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return u(t)}catch(e){throw i(!1),s(e instanceof Error?e.message:"Unknown error occurred"),e}},h=async(e,t)=>{i(!0),s(null);try{let n=await fetch("".concat(c).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return u(n)}catch(e){throw i(!1),s(e instanceof Error?e.message:"Unknown error occurred"),e}},w=async(e,t)=>{i(!0),s(null);try{let n=await fetch("".concat(c).concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return u(n)}catch(e){throw i(!1),s(e instanceof Error?e.message:"Unknown error occurred"),e}},f=async e=>{i(!0),s(null);try{let t=await fetch("".concat(c).concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});return u(t)}catch(e){throw i(!1),s(e instanceof Error?e.message:"Unknown error occurred"),e}};return(0,r.jsx)(a.Provider,{value:{apiUrl:c,isLoading:n,error:l,get:d,post:h,put:w,delete:f},children:t})}function l(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useApi must be used within an ApiProvider");return e}},6002:()=>{},6720:(e,t,n)=>{Promise.resolve().then(n.bind(n,1164))}},e=>{var t=t=>e(e.s=t);e.O(0,[828,80,347,870,358],()=>t(6720)),_N_E=e.O()}]);